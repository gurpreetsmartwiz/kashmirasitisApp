{"version":3,"sources":["../../src/pages/obituary/obituary.module.ts","../../src/pages/obituary/obituary.ts"],"names":[],"mappings":"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","file":"6.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ObituaryPage } from './obituary';\n\n\n@NgModule({\n  declarations: [\n    ObituaryPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ObituaryPage),\n  ],\n  exports: [\n    ObituaryPage\n  ]\n})\nexport class ObituaryPagePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/obituary/obituary.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams,AlertController,LoadingController} from 'ionic-angular';\nimport {DataservicePage} from '../dataservice/dataservice';\nimport { Camera } from '@ionic-native/camera';\nimport { LoginPage } from '../login/login';\nimport { Base64 } from '@ionic-native/base64';\n\n\n@IonicPage()\n@Component({\n  selector: 'page-obituary',\n  templateUrl: 'obituary.html',\n})\n\n\n\nexport class ObituaryPage {\n obituary;\n myPhoto = null;\n base64Image = null;\n DefaultPhoto = \"assets/img/default.png\";\n obituaryData = {'title':null,'born':null,'eternity':null,'description':null};\n obituaryList = [];\n  \n\n  \n  constructor(private base64: Base64, private camera: Camera,public navCtrl: NavController, public navParams: NavParams, public dataService:DataservicePage,public alertCtrl: AlertController, public loadingCtrl:LoadingController) {\n    this.obituary = 'AllObi';\n\tthis.getLoginStatus();\n\tthis.getAllObituary();\n  }\n\n  \n  \n  \n  ionViewDidLoad() {\n    console.log('ionViewDidLoad ObituaryPage');\n  }\n  \n  \n  \n  getAllObituary(){\n\tlet loader = this.loadingCtrl.create({\n    });\n\tloader.present();\n\t var myThis = this;\n     myThis.dataService.get_API_Data('obituaries/get_obituaries', function(data){\n\t\tmyThis.obituaryList = data.obituaries; \n\t\tconsole.log(data) \n\t\tloader.dismiss();\n\t    alert(data.msg);\n\t },function(){\n\t\talert(\"Sever Error\"); \n\t\tloader.dismiss();\n\t });  \n  }\n  \n  \n  \n  getLoginStatus(){\n\t var myThis = this;\n     myThis.dataService.get_API_Data('users/check_login', function(data){\n\t\tconsole.log(data) \n\t\tmyThis.dataService.setUserLoginStatus(data.status);\n\t    alert(data.msg);\n\t },function(){\n\t\talert(\"Sever Error\"); \n\t });\n  }\n  \n  \n  \n\n  \n  \n  getImage() {\n    let alert = this.alertCtrl.create();\n    alert.setTitle('Get Image From?');\n\n    alert.addInput({\n      type: 'radio',\n      label: 'Camera',\n      value: 'value1',\n      checked: true\n    });\n\n    alert.addInput({\n      type: 'radio',\n      label: 'Gallery',\n      value: 'value2'\n    });\n\n    alert.addButton('Cancel');\n    alert.addButton({\n      text: 'Okay',\n      handler: data => {\n        data == 'value1'? this.takePhoto():this.selectPhoto()\n      }\n    });\n    alert.present();\n  }\n\n  \n  \n  \n  takePhoto() {\n    this.camera.getPicture({\n      quality: 100,\n      destinationType: this.camera.DestinationType.FILE_URI,\n      sourceType: this.camera.PictureSourceType.CAMERA,\n      encodingType: this.camera.EncodingType.PNG,\n      saveToPhotoAlbum: true\n    }).then(imageData => {\n      this.myPhoto = imageData;\n\t  this.base64.encodeFile(this.myPhoto).then((base64File: string) => {\n\t\t  console.log(base64File);\n\t\t  this.base64Image = base64File;\n\t\t  //alert(this.base64Image)\n\t\t}, (err) => {\n\t\t  console.log(err);\n\t\t});\n\t\n\t  //alert(this.myPhoto)\n\t  //alert(this.base64Image)\n    }, error => {\n      //this.error = JSON.stringify(error);\n\t  alert(JSON.stringify(error))\n    });\n  }\n\n  \n  \n  selectPhoto(): void {\n    this.camera.getPicture({\n      sourceType: this.camera.PictureSourceType.PHOTOLIBRARY,\n      destinationType: this.camera.DestinationType.FILE_URI,\n      quality: 100,\n      //encodingType: this.camera.EncodingType.PNG,\n    }).then(imageData => {\n      this.myPhoto = imageData;\n\t  this.base64.encodeFile(this.myPhoto).then((base64File: string) => {\n\t\t  console.log(base64File);\n\t\t  this.base64Image = base64File;\n\t\t  console.log(this.base64Image)\n\t\t}, (err) => {\n\t\t  console.log(err);\n\t\t});\n\n    }, error => {\n      //this.error = JSON.stringify(error);\n\t  alert(JSON.stringify(error))\n    });\n  }\n  \n\n  \n  \n  submitObituary(){\n\t  console.log(this.dataService.userLoginStatus);\n\t  console.log(this.dataService.userLoginStatus == '0');\n\t if(this.dataService.userLoginStatus == '0'){\n\t\t console.log(this.obituaryData) \n\t\tthis.navCtrl.push('LoginPage')  \n\t  }else{\n\t\tconsole.log(\"else case: \"+this.dataService.userLoginStatus);\n\t\tconsole.log(this.obituaryData) \n\t   let loader = this.loadingCtrl.create({\n\t\t});\n\t\tloader.present();\n\t\t\n\t\tlet data = new FormData();\n\t\t\tdata.append('title',this.obituaryData.title);\n\t\t\tdata.append('description',this.obituaryData.description);\n\t\t\tdata.append('dob',this.obituaryData.born);\n\t\t\tdata.append('dod',this.obituaryData.eternity);\n\t\t\tdata.append('img',this.base64Image);\n\t\t\tdata.append('file',this.myPhoto);\n\n\t\tconsole.log(data)\t\n\t\tthis.dataService.Post_API_Data('obituaries/add',data,\n\t\t function(result){\n\t\t\tloader.dismiss(); \n\t\t\talert(result.msg)\n\t\t\tconsole.log(result);\n\t\t\t if(result.status === 1){\n\t\t\t\talert(\"true\");\n\t\t\t }else{\n\t\t\t\talert(\"false\");\n\t\t\t }\t\t\t\n\t\t },\n\t\t  function(){\n\t\t\t loader.dismiss();  \n\t\t\t alert(\"Server Error\");  \n\t\t\t console.log(\"Server Error\")\t\n\t\t})\n\t\t\n\t  }\n\n\t  // this.title = null;\n\t  // this.born = null;\n\t  // this.eternity = null;\n\t  // this.description = null;\n  }  \n\n  \n  \n    addComment(oid){   \n\tlet prompt = this.alertCtrl.create({\n      title: 'Add your comment',\n      inputs: [\n        {\n          name: 'comment',\n          placeholder: 'Enter here..'\n        },\n      ],\n      buttons: [\n        {\n          text: 'Cancel',\n          handler: data => {\n            console.log('Cancel clicked');\n          }\n        },\n        {\n          text: 'Submit',\n          handler: data => {\n            console.log(data.comment);\n\t\t\tthis.postComment(data.comment,oid);\n          }\n        }\n      ]\n    });\n    prompt.present();\n  }\n  \n  \n  \n  postComment(comment,oid){\n\t let loader = this.loadingCtrl.create({\n\t\t});\n\t\tloader.present();\n\t\t\n\t\tlet data = new FormData();\n\t\t\tdata.append('comment',comment);\n\t\t\tdata.append('oid',oid);\n\n\t\tconsole.log(data)\t\n\t\tthis.dataService.Post_API_Data('obituarycomments/add_comment',data,\n\t\t function(result){\n\t\t\tloader.dismiss(); \n\t\t\talert(result.msg)\n\t\t\tconsole.log(result);\t\t\t\n\t\t },\n\t\t  function(){\n\t\t\t loader.dismiss();  \n\t\t\t alert(\"Server Error\");  \n\t\t\t console.log(\"Server Error\")\t\n\t\t}) \n  }\n  \n  \n  \n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/obituary/obituary.ts"],"sourceRoot":""}